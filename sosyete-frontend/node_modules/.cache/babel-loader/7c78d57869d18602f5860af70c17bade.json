{"ast":null,"code":"var _jsxFileName = \"/Users/ozigun1988/Desktop/git/project/sosyete-frontend/src/components/Vote.js\";\nimport React from \"react\";\nimport Upvote from \"react-upvote\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Vote extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      updating: false,\n      voteStatus: props.voteStatus\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let oldVoteStatus = this.props.voteStatus;\n    let newVoteStatus = nextProps.voteStatus; // don't update unless post's vote status changes\n\n    if (oldVoteStatus === newVoteStatus) {\n      return;\n    }\n\n    this.setState({\n      updating: false,\n      voteStatus: nextProps.voteStatus\n    });\n  }\n\n  allowed() {\n    let {\n      shouldAllow,\n      onDisallowed\n    } = this.props; // allowed is the return value of shouldAllow() or true\n\n    let allowed = shouldAllow ? shouldAllow() : true;\n\n    if (!allowed) {\n      onDisallowed();\n    }\n\n    return allowed;\n  }\n\n  vote(nextStatus) {\n    let {\n      updating,\n      voteStatus\n    } = this.state;\n    let {\n      onUpvote,\n      onDownvote,\n      onRemoveVote\n    } = this.props;\n\n    if (updating || !this.allowed()) {\n      return;\n    }\n\n    let prevStatus = voteStatus;\n\n    if (prevStatus === nextStatus) {\n      // undo current vote\n      onRemoveVote();\n      nextStatus = 0;\n    } else {\n      // add/change vote\n      if (prevStatus !== 0 && nextStatus !== 0) {\n        // undo previous vote first\n        onRemoveVote();\n      } // add new vote\n\n\n      if (nextStatus === 1) {\n        onUpvote();\n      } else {\n        onDownvote();\n      }\n    }\n\n    this.setState({\n      // update voteStatus\n      voteStatus: nextStatus,\n      // wait for action to complete before allowing upvote\n      updating: true\n    });\n  }\n\n  render() {\n    let {\n      voteStatus,\n      updating\n    } = this.state;\n    let {\n      className,\n      upvoteContent,\n      downvoteContent,\n      beforeContent,\n      afterContent\n    } = this.props;\n    let upvoteCx = cx(className, {\n      upvoted: voteStatus === 1,\n      downvoted: voteStatus === -1,\n      updating: updating\n    });\n\n    let upvote = upvoteContent && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upvote\",\n      onClick: () => this.vote(1),\n      children: upvoteContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n\n    let downvote = downvoteContent && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"downvote\",\n      onClick: () => this.vote(-1),\n      children: downvoteContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: upvoteCx,\n      children: [beforeContent, /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${className}-buttons`,\n        children: [upvote, downvote]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), afterContent]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Vote;","map":{"version":3,"names":["React","Upvote","Vote","Component","constructor","props","state","updating","voteStatus","componentWillReceiveProps","nextProps","oldVoteStatus","newVoteStatus","setState","allowed","shouldAllow","onDisallowed","vote","nextStatus","onUpvote","onDownvote","onRemoveVote","prevStatus","render","className","upvoteContent","downvoteContent","beforeContent","afterContent","upvoteCx","cx","upvoted","downvoted","upvote","downvote"],"sources":["/Users/ozigun1988/Desktop/git/project/sosyete-frontend/src/components/Vote.js"],"sourcesContent":["import React from \"react\";\nimport Upvote from \"react-upvote\";\n\nclass Vote extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      updating: false,\n      voteStatus: props.voteStatus,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let oldVoteStatus = this.props.voteStatus;\n    let newVoteStatus = nextProps.voteStatus;\n\n    // don't update unless post's vote status changes\n    if (oldVoteStatus === newVoteStatus) {\n      return;\n    }\n\n    this.setState({\n      updating: false,\n      voteStatus: nextProps.voteStatus,\n    });\n  }\n\n  allowed() {\n    let { shouldAllow, onDisallowed } = this.props;\n\n    // allowed is the return value of shouldAllow() or true\n    let allowed = shouldAllow ? shouldAllow() : true;\n\n    if (!allowed) {\n      onDisallowed();\n    }\n\n    return allowed;\n  }\n\n  vote(nextStatus) {\n    let { updating, voteStatus } = this.state;\n\n    let { onUpvote, onDownvote, onRemoveVote } = this.props;\n\n    if (updating || !this.allowed()) {\n      return;\n    }\n\n    let prevStatus = voteStatus;\n\n    if (prevStatus === nextStatus) {\n      // undo current vote\n      onRemoveVote();\n      nextStatus = 0;\n    } else {\n      // add/change vote\n\n      if (prevStatus !== 0 && nextStatus !== 0) {\n        // undo previous vote first\n        onRemoveVote();\n      }\n\n      // add new vote\n      if (nextStatus === 1) {\n        onUpvote();\n      } else {\n        onDownvote();\n      }\n    }\n\n    this.setState({\n      // update voteStatus\n      voteStatus: nextStatus,\n      // wait for action to complete before allowing upvote\n      updating: true,\n    });\n  }\n\n  render() {\n    let { voteStatus, updating } = this.state;\n\n    let {\n      className,\n      upvoteContent,\n      downvoteContent,\n      beforeContent,\n      afterContent,\n    } = this.props;\n\n    let upvoteCx = cx(className, {\n      upvoted: voteStatus === 1,\n      downvoted: voteStatus === -1,\n      updating: updating,\n    });\n\n    let upvote = upvoteContent && (\n      <div className=\"upvote\" onClick={() => this.vote(1)}>\n        {upvoteContent}\n      </div>\n    );\n\n    let downvote = downvoteContent && (\n      <div className=\"downvote\" onClick={() => this.vote(-1)}>\n        {downvoteContent}\n      </div>\n    );\n\n    return (\n      <div className={upvoteCx}>\n        {beforeContent}\n\n        <div className={`${className}-buttons`}>\n          {upvote}\n          {downvote}\n        </div>\n\n        {afterContent}\n      </div>\n    );\n  }\n}\n\nexport default Vote;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}